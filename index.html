<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&display=swap" rel="stylesheet">
  <title>Bootcamp AITC</title>
  <link rel="stylesheet" href="./assets/styles/main.css">
</head>
<body>
  <header>
    <h1>Data Mahasiswa</h1>
    <a href="./form.html" target="_blank" class="text-black">Tambah +</a>
  </header>
  <main>
    <div>
      <input id="search" type="text" class="w-500px" placeholder="cari nama">
      <div id="empty" class="empty text-center d-none">
        <img src="./assets/images/empty.png" class="margin-x-auto" alt="empty image">
        <h4 class="font-medium">Hasil yang kamu cari tidak ditemukan</h4>
      </div>
      <div id="items" class="items">
        <article class="item"
          data-id="1"
          data-src="./assets/images/profile-1.png"
          data-name="B.A. Baracus"
          data-desc="Lorem ipsum dolor sit amet consectetur adipisicing elit. Illum harum accusantium omnis? Dolorum eaque qui quam recusandae quia, exercitationem culpa minus esse quis temporibus consequuntur earum expedita laboriosam. Ratione, dolorem!"
          data-ipk="3.5"
          onclick="showModal(this)">
          <div class="item-image">
            <img src="./assets/images/profile-1.png" alt="B.A. Baracus">
            <span class="ipk">IPK 3.5</span>
          </div>
          <div class="item-desc">
            <h5>B.A. Baracus</h5>
            <p>Lorem  dolorem!</p>
          </div>
        </article>
        <article class="item"
          data-id="2"
          data-src="./assets/images/profile-2.png"
          data-name="Theodore T.C. Calvin"
          data-desc="Lorem ipsum dolor sit amet consectetur adipisicing elit. Illum harum accusantium omnis? Dolorum eaque qui quam recusandae quia, exercitationem culpa minus esse quis temporibus consequuntur earum expedita laboriosam. Ratione, dolorem!"
          data-ipk="3.2"
          onclick="showModal(this)">
          <div class="item-image">
            <img src="./assets/images/profile-2.png" alt="Theodore T.C. Calvin">
            <span class="ipk">IPK 3.2</span>
          </div>
          <div class="item-desc">
            <h5>Theodore T.C. Calvin</h5>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Illum harum accusantium omnis?
              Dolorum eaque qui quam recusandae quia, exercitationem culpa minus esse quis temporibus consequuntur earum expedita laboriosam. Ratione, dolorem!</p>
          </div>
        </article>
        <article class="item"
          data-id="3"
          data-src="./assets/images/profile-3.png"
          data-name="Sledge Hammer"
          data-desc="Lorem ipsum dolor sit amet consectetur adipisicing elit. Illum harum accusantium omnis? Dolorum eaque qui quam recusandae quia, exercitationem culpa minus esse quis temporibus consequuntur earum expedita laboriosam. Ratione, dolorem!"
          data-ipk="3.01"
          onclick="showModal(this)">
          <div class="item-image">
            <img src="./assets/images/profile-3.png" alt="Sledge Hammer">
            <span class="ipk">IPK 3.01</span>
          </div>
          <div class="item-desc">
            <h5>Sledge Hammer</h5>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Illum harum accusantium omnis?
              Dolorum eaque qui quam recusandae quia, exercitationem culpa minus esse quis temporibus consequuntur earum expedita laboriosam. Ratione, dolorem!</p>
          </div>
        </article>
        <article class="item"
          data-id="4"
          data-src="./assets/images/profile-4.png"
          data-name="Peter Thornton"
          data-desc="Lorem ipsum dolor sit amet consectetur adipisicing elit. Illum harum accusantium omnis? Dolorum eaque qui quam recusandae quia, exercitationem culpa minus esse quis temporibus consequuntur earum expedita laboriosam. Ratione, dolorem!"
          data-ipk="3.1"
          onclick="showModal(this)">
          <div class="item-image">
            <img src="./assets/images/profile-4.png" alt="Peter Thornton">
            <span class="ipk">IPK 3.1</span>
          </div>
          <div class="item-desc">
            <h5>Peter Thornton</h5>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Illum harum accusantium omnis?
              Dolorum eaque qui quam recusandae quia, exercitationem culpa minus esse quis temporibus consequuntur earum expedita laboriosam. Ratione, dolorem!</p>
          </div>
        </article>
        <article class="item"
          data-id="5"
          data-src="./assets/images/profile-5.png"
          data-name="Lynn Tanner"
          data-desc="Lorem ipsum dolor sit amet consectetur adipisicing elit. Illum harum accusantium omnis? Dolorum eaque qui quam recusandae quia, exercitationem culpa minus esse quis temporibus consequuntur earum expedita laboriosam. Ratione, dolorem!"
          data-ipk="2.9"
          onclick="showModal(this)">
          <div class="item-image">
            <img src="./assets/images/profile-5.png" alt="Lynn Tanner">
            <span class="ipk">IPK 2.9</span>
          </div>
          <div class="item-desc">
            <h5>Lynn Tanner</h5>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Illum harum accusantium omnis?
              Dolorum eaque qui quam recusandae quia, exercitationem culpa minus esse quis temporibus consequuntur earum expedita laboriosam. Ratione, dolorem!</p>
          </div>
        </article>
        <article class="item"
          data-id="6"
          data-src="./assets/images/profile-6.png"
          data-name="April Curtis"
          data-desc="Lorem ipsum dolor sit amet consectetur adipisicing elit. Illum harum accusantium omnis? Dolorum eaque qui quam recusandae quia, exercitationem culpa minus esse quis temporibus consequuntur earum expedita laboriosam. Ratione, dolorem!"
          data-ipk="3.32"
          onclick="showModal(this)">
          <div class="item-image">
            <img src="./assets/images/profile-6.png" alt="April Curtis">
            <span class="ipk">IPK 3.32</span>
          </div>
          <div class="item-desc">
            <h5>April Curtis</h5>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Illum harum accusantium omnis?
              Dolorum eaque qui quam recusandae quia, exercitationem culpa minus esse quis temporibus consequuntur earum expedita laboriosam. Ratione, dolorem!</p>
          </div>
        </article>
        <article class="item"
          data-id="7"
          data-src="./assets/images/profile-7.png"
          data-name="Angela Bower"
          data-desc="Lorem ipsum dolor sit amet consectetur adipisicing elit. Illum harum accusantium omnis? Dolorum eaque qui quam recusandae quia, exercitationem culpa minus esse quis temporibus consequuntur earum expedita laboriosam. Ratione, dolorem!"
          data-ipk="3.92"
          onclick="showModal(this)">
          <div class="item-image">
            <img src="./assets/images/profile-7.png" alt="Angela Bower">
            <span class="ipk">IPK 3.92</span>
          </div>
          <div class="item-desc">
            <h5>Angela Bower</h5>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Illum harum accusantium omnis?
              Dolorum eaque qui quam recusandae quia, exercitationem culpa minus esse quis temporibus consequuntur earum expedita laboriosam. Ratione, dolorem!</p>
          </div>
        </article>
        <article class="item"
          data-id="8"
          data-src="./assets/images/profile-8.png"
          data-name="Jonathan Higgins"
          data-desc="Lorem ipsum dolor sit amet consectetur adipisicing elit. Illum harum accusantium omnis? Dolorum eaque qui quam recusandae quia, exercitationem culpa minus esse quis temporibus consequuntur earum expedita laboriosam. Ratione, dolorem!"
          data-ipk="2.7"
          onclick="showModal(this)">
          <div class="item-image">
            <img src="./assets/images/profile-8.png" alt="Jonathan Higgins">
            <span class="ipk">IPK 2.7</span>
          </div>
          <div class="item-desc">
            <h5>Jonathan Higgins</h5>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Illum harum accusantium omnis?
              Dolorum eaque qui quam recusandae quia, exercitationem culpa minus esse quis temporibus consequuntur earum expedita laboriosam. Ratione, dolorem!</p>
          </div>
        </article>
      </div>
    </div>
    <div id="modalDetail" class="modal d-none">
      <div class="modal-content">
        <div class="modal-body d-flex">
          <div class="modal-image">
            <img src="./assets/images/profile-1.png" alt="B.A. Baracus">
          </div>
          <div class="modal-desc">
            <h3>B.A. Baracus</h3>
            <span class="ipk">IPK 2.7</span>
            <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.
              Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.</p>
          </div>
        </div>
        <div class="modal-footer">
          <div class="d-flex justify-between">
            <a href="form.html?id=" class="btn btn-secondary btn-link btn-large font-semibold">Edit</a>
            <form class="d-inline-block" method="POST" action="/index.html" onsubmit="if(!confirm('Apakah yakin dihapus?')) return false">
              <input type="hidden" value="DELETE" name="METHOD">
              <button class="btn btn-light btn-link btn-large" type="submit">Hapus</button>
            </form>
          </div>
        </div>
      </div>
      <div class="overlay">     
      </div>
    </div>
  </main>
  <footer>
    <p class="text-center">AITC Bootcamp</p>
  </footer>
  <script>
    // function testCallback(fungsi) {
    //   fungsi();
    // }
    // testCallback(function(){
    //   console.log('testCallback');
    // });
    
    function showModal(e) {
      const elemModal = document.getElementById('modalDetail');
      const elemName = document.querySelector('#modalDetail .modal-body h3');
      const elemIpk = document.querySelector('#modalDetail .modal-body span');
      const elemDesc = document.querySelector('#modalDetail .modal-body p');
      const elemImg = document.querySelector('#modalDetail .modal-image img');
      const elemBtnEdit = document.querySelector('#modalDetail .modal-footer a');

      elemModal.classList.remove('d-none');
      elemName.innerText = e.getAttribute('data-name');
      elemIpk.innerText = 'IPK ' + e.getAttribute('data-ipk');
      elemDesc.innerText = e.getAttribute('data-desc');
      elemImg.setAttribute('src', e.getAttribute('data-src'));
      elemBtnEdit.setAttribute('href', 'form.html?id=' + e.getAttribute('data-id'));
    }

    function mounted() {
      const search = document.getElementById("search");
      const empty = document.getElementsByClassName("empty");
      const itemsElem = document.getElementById("items");
      const items = document.querySelectorAll("#items .item");

      search.addEventListener("keyup", function() {
        const arrItem = Array.from(items);
        let count = 0;
        arrItem.forEach(function(item, index) {
          const name = item.querySelector(".item-desc h5").innerText;

          if (name.toLowerCase().includes(search.value.toLowerCase())) {
            item.classList.remove("d-none");
          } else {
            count += 1;
            item.classList.add("d-none");
          }
        });
        if (count === items.length) {
          empty[0].classList.remove("d-none");
          itemsElem.classList.add("d-none");
        } else {
          empty[0].classList.add("d-none");
          itemsElem.classList.remove("d-none");
        }
      })

      document.querySelector('#modalDetail .overlay').addEventListener('click', function() {
        document.getElementById('modalDetail').classList.add('d-none');
      })
    }
    window.addEventListener("load", mounted);

    fetch("https://jsonplaceholder.typicode.com/user")
      .then(response => response.json())
      .then(data => {
        console.log("Janji Manis : ", data);
      }).catch((error) => {
        console.log(error);
      });
    
    const promise = new Promise((resolve, reject) => {
      if (false) {
        resolve("Success!");
      } else {
        reject("Error!");
      }
    });

    promise.then(result => {
      console.log(result);
    }).catch(error => {
      console.log(error);
    });
  </script>
</body>
</html>